# MyBox integration to Home Assistant via MQTT

This repository contains subdirectories with various [Home
Assistant](https://www.home-assistant.io) projects documented in
[literate
configuration](https://blog.lhotka.name/posts/literate-ha-config)
style in which snippets of YAML code defining Home Assistant sensors,
scripts, automations etc. interspersed with explanatory text.

Each individual project subdirectory contains a main source file with
`.org` extension that is written in the Emacs [Org
mode](https://orgmode.org) syntax and uses its literate programming
capabilities for generating (“tangling”) corresponding YAML
configuration files.

For convenience, the generated YAML files are also committed in each
subdirectory. They can be either directly used in Home Assistent
configuration or their contents are expected to be merged with
existing configuration files.

In order to enjoy the full comfort of the Org mode, the Org source file
should be edited in Emacs. The YAML configuration files can then be
generated by using the Emacs function `org-babel-tangle` (keyboard
shortcut `C-c C-v t`).

Support for editing YAML in Org source code blocks can be added by
installing

1. [YAML mode](https://github.com/yoshiki/yaml-mode),
   e.g. from [MELPA](https://stable.melpa.org/#/yaml-mode)
2. my emacs-lisp module
   [ob-yaml.el](https://github.com/llhotka/ob-yaml) that enables
   YAML mode in source code blocks.

GitHub now understands Org mode syntax almost perfectly, so nicely rendered
Org files can also be viewed directly in the GitHub repo.

## Projects

`mybox-ha-mqtt`
: Configuration of MQTT-based sensors and scripts that can be used for
integrating a
[MyBox](https://mybox.eco/produkty-kategorie/nabijeci-stanice) wallbox
to Home Assistant. See also this [blog
post](https://blog.lhotka.name/posts/mybox-home-assistant).
